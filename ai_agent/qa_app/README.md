LangGraphで作るAIエージェント実践入門の9章を参考に作成したアプリ

## セットアップ
- apikey
  - https://console.cloud.google.com/apis/credentials
  - set your GOOGLE_API_KEY

## 動作確認
- `cd ai_agent/qa_app`
- `uv run run.py`

## sse
- `uv run main.py`
- `curl http://127.0.0.1:5000/sse`
- `curl -X POST -H "Content-Type: application/json" -d '{"message": "生成AIに ついて教えて"}' http://127.0.0.1:5000/run`

## 結果例

```
event: status
data: "処理を開始します"

event: role_selection
data: "2"

event: answer
data: "生成AI製品エキスパートとして、生成AIについてご説明しますね。\n\n## 生成AIとは？\n\n生成AI（Generative AI）とは、**新しいコンテンツを「生成」することができるAI技術**のことです。これまでのAIが、与えられたデータを分析したり、分類したり、予測したりすることに長けていたのに対し、生成AIは、学習したデータに基づいて、まるで人間が創造するかのように、テキスト、画像、音楽、コード、動画など、様々な種類の新しいコンテンツを生み出すことができます。\n\n### 生成AIの仕組み（簡単に言うと）\n\n生成AIは、大量のデータ（例えば、インターネット上のテキスト、画像、音楽など）を学習します。この学習プロセスを通じて、データの中に潜むパターン、構造、関係性を理解します。\n\nそして、ユーザーからの指示（プロンプトと呼ばれます）に基づいて、学習した知識を応用し、新しいコンテンツを生成します。例えば、\n\n*   **テキスト生成AI:** 「猫が宇宙を旅する物語を書いて」という指示に対して、物語を生成します。\n*   **画像生成AI:** 「夕焼け空の下、草原を駆ける白い馬」という指示に対して、その情景を描いた画像を生成します。\n*   **音楽生成AI:** 「リラックスできるピアノ曲を作って」という指示に対して、新しいメロディーを生成します。\n\n### 生成AIの主な種類と応用例\n\n生成AIは、生成するコンテンツの種類によって、いくつかの主要なカテゴリに分けられます。\n\n1.  **テキスト生成AI:**\n    *   **概要:** 自然な文章を作成する能力に特化しています。\n    *   **応用例:**\n        *   **文章作成・要約:** ブログ記事、メール、レポート、小説などの作成、長文の要約。\n        *   **翻訳:** 多言語間の自然な翻訳。\n        *   **質疑応答:** 質問に対する的確な回答の生成。\n        *   **プログラミングコード生成:** 特定の機能を持つコードの自動生成。\n        *   **チャットボット:** 自然な対話によるカスタマーサポートや情報提供。\n    *   **代表的な製品/モデル:** ChatGPT (OpenAI), Gemini (Google), Claude (Anthropic) など。\n\n2.  **画像生成AI:**\n    *   **概要:** テキストによる指示（プロンプト）に基づいて、オリジナルの画像を生成します。\n    *   **応用例:**\n        *   **デザイン・イラスト制作:** Webサイトのバナー、広告素材、キャラクターデザイン、コンセプトアートなど。\n        *   **写真編集・加工:** 画像のスタイル変換、不要なオブジェクトの削除・追加。\n        *   **エンターテイメント:** ゲームの背景やキャラクターの生成。\n    *   **代表的な製品/モデル:** Midjourney, DALL-E (OpenAI), Stable Diffusion など。\n\n3.  **音声・音楽生成AI:**\n    *   **概要:** テキストから音声を生成したり、指示に基づいてオリジナルの音楽を作曲したりします。\n    *   **応用例:**\n        *   **ナレーション・音声合成:** オーディオブック、動画のナレーション、音声アシスタント。\n        *   **音楽制作:** BGM、効果音、楽曲の作曲。\n        *   **音声変換:** 特定の声質への変換。\n    *   **代表的な製品/モデル:** ElevenLabs, Suno AI など。\n\n4.  **動画生成AI:**\n    *   **概要:** テキストや画像から短い動画を生成する技術です。まだ発展途上の分野ですが、急速に進歩しています。\n    *   **応用例:**\n        *   **プロモーションビデオ:** 短い広告動画の作成。\n        *   **コンテンツ制作:** SNS向けの短い動画コンテンツ。\n    *   **代表的な製品/モデル:** Sora (OpenAI), RunwayML など。\n\n### 生成AIの可能性と課題\n\n**可能性:**\n\n*   **創造性の拡張:** アイデア出しやコンテンツ制作のプロセスを劇的に効率化し、誰もがクリエイティブな活動に参加しやすくなります。\n*   **生産性の向上:** 定型的な作業や情報収集、文章作成などを自動化し、人間はより高度な判断や創造的な業務に集中できます。\n*   **新しい体験の創出:** 個別最適化された学習コンテンツ、インタラクティブなエンターテイメントなど、これまでにない体験を提供します。\n*   **アクセシビリティの向上:** 言語の壁を越えたコミュニケーションや、情報へのアクセスを容易にします。\n\n**課題:**\n\n*   **情報の正確性・信頼性:** 生成された情報が常に正しいとは限らず、誤情報や偏見が含まれる可能性があります（ハルシネーションと呼ばれる現象）。\n*   **著作権・倫理的な問題:** 生成されたコンテンツの著作権の帰属や、既存の作品を学習データとして利用する際の倫理的な問題。\n*   **悪用のリスク:** フェイクニュースの生成、詐欺、サイバー攻撃などへの悪用。\n*   **雇用の変化:** 一部の職種では、AIによる自動化が進み、雇用のあり方が変化する可能性があります。\n*   **環境負荷:** 大規模なモデルの学習には膨大な計算リソースと電力が必要となり、環境への影響も懸念されています。\n\n### 生成AIの未来\n\n生成AIは、私たちの生活や仕事のあり方を大きく変える可能性を秘めた技術です。今後も技術は進化し続け、より高度で多様なコンテンツ生成が可能になるでしょう。同時に、これらの技術をどのように活用し、社会的な課題に対処していくかが、私たちにとって重要なテーマとなります。\n\nもし、特定の生成AI製品や技術について、さらに詳しく知りたいことがあれば、遠慮なく質問してくださいね。"

event: check_result
data: "回答は生成AIの基本的な概念、仕組み、種類、応用例、可能性、課題、そして未来について網羅的に説明しており、ユーザーの質問に対して十分な情報を提供しています。専門用語には簡単な説明が加えられており、理解しやすい構成になっています。また、具体的な製品名も例示されており、実践的な情報も含まれています。全体として、品質に問題はありません。"

event: workflow_result
data: {"query": "生成AIに ついて教えて", "current_role": "生成AI製品エキスパート", "messages": ["生成AI製品エキスパートとして、生成AIについてご説明しますね。\n\n## 生成AIとは？\n\n生成AI（Generative AI）とは、**新しいコンテンツを「生成」することができるAI技術**のことです。これまでのAIが、与えられたデータを分析したり、分類したり、予測したりすることに長けていたのに対し、生成AIは、学習したデータに基づいて、まるで人間が創造するかのように、テキスト、画像、音楽、コード、動画など、様々な種類の新しいコンテンツを生み出すことができます。\n\n### 生成AIの仕組み（簡単に言うと）\n\n生成AIは、大量のデータ（例えば、インターネット上のテキスト、画像、音楽など）を学習します。この学習プロセスを通じて、データの中に潜むパターン、構造、関係性を理解します。\n\nそして、ユーザーからの指示（プロンプトと呼ばれます）に基づいて、学習した知識を応用し、新しいコンテンツを生成します。例えば、\n\n*   **テキスト生成AI:** 「猫が宇宙を旅する物語を書いて」という指示に対して、物語を生成します。\n*   **画像生成AI:** 「夕焼け空の下、草原を駆ける白い馬」という指示に対して、その情景を描いた画像を生成します。\n*   **音楽生成AI:** 「リラックスできるピアノ曲を作って」という指示に対して、新しいメロディーを生成します。\n\n### 生成AIの主な種類と応用例\n\n生成AIは、生成するコンテンツの種類によって、いくつかの主要なカテゴリに分けられます。\n\n1.  **テキスト生成AI:**\n    *   **概要:** 自然な文章を作成する能力に特化しています。\n    *   **応用例:**\n        *   **文章作成・要約:** ブログ記事、メール、レポート、小説などの作成、長文の要約。\n        *   **翻訳:** 多言語間の自然な翻訳。\n        *   **質疑応答:** 質問に対する的確な回答の生成。\n        *   **プログラミングコード生成:** 特定の機能を持つコードの自動生成。\n        *   **チャットボット:** 自然な対話によるカスタマーサポートや情報提供。\n    *   **代表的な製品/モデル:** ChatGPT (OpenAI), Gemini (Google), Claude (Anthropic) など。\n\n2.  **画像生成AI:**\n    *   **概要:** テキストによる指示（プロンプト）に基づいて、オリジナルの画像を生成します。\n    *   **応用例:**\n        *   **デザイン・イラスト制作:** Webサイトのバナー、広告素材、キャラクターデザイン、コンセプトアートなど。\n        *   **写真編集・加工:** 画像のスタイル変換、不要なオブジェクトの削除・追加。\n        *   **エンターテイメント:** ゲームの背景やキャラクターの生成。\n    *   **代表的な製品/モデル:** Midjourney, DALL-E (OpenAI), Stable Diffusion など。\n\n3.  **音声・音楽生成AI:**\n    *   **概要:** テキストから音声を生成したり、指示に基づいてオリジナルの音楽を作曲したりします。\n    *   **応用例:**\n        *   **ナレーション・音声合成:** オーディオブック、動画のナレーション、音声アシスタント。\n        *   **音楽制作:** BGM、効果音、楽曲の作曲。\n        *   **音声変換:** 特定の声質への変換。\n    *   **代表的な製品/モデル:** ElevenLabs, Suno AI など。\n\n4.  **動画生成AI:**\n    *   **概要:** テキストや画像から短い動画を生成する技術です。まだ発展途上の分野ですが、急速に進歩しています。\n    *   **応用例:**\n        *   **プロモーションビデオ:** 短い広告動画の作成。\n        *   **コンテンツ制作:** SNS向けの短い動画コンテンツ。\n    *   **代表的な製品/モデル:** Sora (OpenAI), RunwayML など。\n\n### 生成AIの可能性と課題\n\n**可能性:**\n\n*   **創造性の拡張:** アイデア出しやコンテンツ制作のプロセスを劇的に効率化し、誰もがクリエイティブな活動に参加しやすくなります。\n*   **生産性の向上:** 定型的な作業や情報収集、文章作成などを自動化し、人間はより高度な判断や創造的な業務に集中できます。\n*   **新しい体験の創出:** 個別最適化された学習コンテンツ、インタラクティブなエンターテイメントなど、これまでにない体験を提供します。\n*   **アクセシビリティの向上:** 言語の壁を越えたコミュニケーションや、情報へのアクセスを容易にします。\n\n**課題:**\n\n*   **情報の正確性・信頼性:** 生成された情報が常に正しいとは限らず、誤情報や偏見が含まれる可能性があります（ハルシネーションと呼ばれる現象）。\n*   **著作権・倫理的な問題:** 生成されたコンテンツの著作権の帰属や、既存の作品を学習データとして利用する際の倫理的な問題。\n*   **悪用のリスク:** フェイクニュースの生成、詐欺、サイバー攻撃などへの悪用。\n*   **雇用の変化:** 一部の職種では、AIによる自動化が進み、雇用のあり方が変化する可能性があります。\n*   **環境負荷:** 大規模なモデルの学習には膨大な計算リソースと電力が必要となり、環境への影響も懸念されています。\n\n### 生成AIの未来\n\n生成AIは、私たちの生活や仕事のあり方を大きく変える可能性を秘めた技術です。今後も技術は進化し続け、より高度で多様なコンテンツ生成が可能になるでしょう。同時に、これらの技術をどのように活用し、社会的な課題に対処していくかが、私たちにとって重要なテーマとなります。\n\nもし、特定の生成AI製品や技術について、さらに詳しく知りたいことがあれば、遠慮なく質問してくださいね。"], "current_judge": true, "judgement_reason": "回答は生成AIの基本的な概念、仕組み、種類、応用例、可能性、課題、そして未来について網羅的に説明しており、ユーザーの質問に対して十分な情報を提供しています。専門用語には簡単な説明が加えられており、理解しやすい構成になっています。また、具体的な製品名も例示されており、実践的な情報も含まれています。全体として、品質に問題はありません。"}

event: status
data: "処理を終了します"
```